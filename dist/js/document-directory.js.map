{"version":3,"file":"js/document-directory.js","mappings":"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","sources":["webpack://custom-wp/./node_modules/svg4everybody/dist/svg4everybody.js","webpack://custom-wp/webpack/bootstrap","webpack://custom-wp/./src/js/api.ts","webpack://custom-wp/./src/js/DocumentDownloader.ts","webpack://custom-wp/./src/js/LoaderQueue.ts","webpack://custom-wp/./src/js/DocumentDirectory.ts","webpack://custom-wp/./src/js/document-directory.ts","webpack://custom-wp/./node_modules/svg-spritemap-webpack-plugin/svg4everybody-helper.js"],"sourcesContent":["!function(root, factory) {\n    \"function\" == typeof define && define.amd ? // AMD. Register as an anonymous module unless amdModuleId is set\n    define([], function() {\n        return root.svg4everybody = factory();\n    }) : \"object\" == typeof module && module.exports ? // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory() : root.svg4everybody = factory();\n}(this, function() {\n    /*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */\n    function embed(parent, svg, target) {\n        // if the target exists\n        if (target) {\n            // create a document fragment to hold the contents of the target\n            var fragment = document.createDocumentFragment(), viewBox = !svg.hasAttribute(\"viewBox\") && target.getAttribute(\"viewBox\");\n            // conditionally set the viewBox on the svg\n            viewBox && svg.setAttribute(\"viewBox\", viewBox);\n            // copy the contents of the clone into the fragment\n            for (// clone the target\n            var clone = target.cloneNode(!0); clone.childNodes.length; ) {\n                fragment.appendChild(clone.firstChild);\n            }\n            // append the fragment into the svg\n            parent.appendChild(fragment);\n        }\n    }\n    function loadreadystatechange(xhr) {\n        // listen to changes in the request\n        xhr.onreadystatechange = function() {\n            // if the request is ready\n            if (4 === xhr.readyState) {\n                // get the cached html document\n                var cachedDocument = xhr._cachedDocument;\n                // ensure the cached html document based on the xhr response\n                cachedDocument || (cachedDocument = xhr._cachedDocument = document.implementation.createHTMLDocument(\"\"), \n                cachedDocument.body.innerHTML = xhr.responseText, xhr._cachedTarget = {}), // clear the xhr embeds list and embed each item\n                xhr._embeds.splice(0).map(function(item) {\n                    // get the cached target\n                    var target = xhr._cachedTarget[item.id];\n                    // ensure the cached target\n                    target || (target = xhr._cachedTarget[item.id] = cachedDocument.getElementById(item.id)), \n                    // embed the target into the svg\n                    embed(item.parent, item.svg, target);\n                });\n            }\n        }, // test the ready state change immediately\n        xhr.onreadystatechange();\n    }\n    function svg4everybody(rawopts) {\n        function oninterval() {\n            // while the index exists in the live <use> collection\n            for (// get the cached <use> index\n            var index = 0; index < uses.length; ) {\n                // get the current <use>\n                var use = uses[index], parent = use.parentNode, svg = getSVGAncestor(parent), src = use.getAttribute(\"xlink:href\") || use.getAttribute(\"href\");\n                if (!src && opts.attributeName && (src = use.getAttribute(opts.attributeName)), \n                svg && src) {\n                    if (polyfill) {\n                        if (!opts.validate || opts.validate(src, svg, use)) {\n                            // remove the <use> element\n                            parent.removeChild(use);\n                            // parse the src and get the url and id\n                            var srcSplit = src.split(\"#\"), url = srcSplit.shift(), id = srcSplit.join(\"#\");\n                            // if the link is external\n                            if (url.length) {\n                                // get the cached xhr request\n                                var xhr = requests[url];\n                                // ensure the xhr request exists\n                                xhr || (xhr = requests[url] = new XMLHttpRequest(), xhr.open(\"GET\", url), xhr.send(), \n                                xhr._embeds = []), // add the svg and id as an item to the xhr embeds list\n                                xhr._embeds.push({\n                                    parent: parent,\n                                    svg: svg,\n                                    id: id\n                                }), // prepare the xhr ready state change event\n                                loadreadystatechange(xhr);\n                            } else {\n                                // embed the local id into the svg\n                                embed(parent, svg, document.getElementById(id));\n                            }\n                        } else {\n                            // increase the index when the previous value was not \"valid\"\n                            ++index, ++numberOfSvgUseElementsToBypass;\n                        }\n                    }\n                } else {\n                    // increase the index when the previous value was not \"valid\"\n                    ++index;\n                }\n            }\n            // continue the interval\n            (!uses.length || uses.length - numberOfSvgUseElementsToBypass > 0) && requestAnimationFrame(oninterval, 67);\n        }\n        var polyfill, opts = Object(rawopts), newerIEUA = /\\bTrident\\/[567]\\b|\\bMSIE (?:9|10)\\.0\\b/, webkitUA = /\\bAppleWebKit\\/(\\d+)\\b/, olderEdgeUA = /\\bEdge\\/12\\.(\\d+)\\b/, edgeUA = /\\bEdge\\/.(\\d+)\\b/, inIframe = window.top !== window.self;\n        polyfill = \"polyfill\" in opts ? opts.polyfill : newerIEUA.test(navigator.userAgent) || (navigator.userAgent.match(olderEdgeUA) || [])[1] < 10547 || (navigator.userAgent.match(webkitUA) || [])[1] < 537 || edgeUA.test(navigator.userAgent) && inIframe;\n        // create xhr requests object\n        var requests = {}, requestAnimationFrame = window.requestAnimationFrame || setTimeout, uses = document.getElementsByTagName(\"use\"), numberOfSvgUseElementsToBypass = 0;\n        // conditionally start the interval if the polyfill is active\n        polyfill && oninterval();\n    }\n    function getSVGAncestor(node) {\n        for (var svg = node; \"svg\" !== svg.nodeName.toLowerCase() && (svg = svg.parentNode); ) {}\n        return svg;\n    }\n    return svg4everybody;\n});","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","var $ = jQuery;\nvar api = {\n    post: function (action, data) {\n        var postUrl = new URL(window.ajaxUrl);\n        postUrl.searchParams.append('action', action);\n        return $.post({\n            url: postUrl.toString(),\n            data: JSON.stringify(data),\n            contentType: 'application/json; charset=utf-8',\n            dataType: 'json'\n        });\n    },\n    get: function (url) {\n        return $.get({ url: url });\n    }\n};\nexport default api;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport api from './api';\nimport LoaderQueue from './LoaderQueue';\nvar $ = jQuery;\nvar popupCloseClass = window.popupCloseClass;\nvar DocumentDownloader = /** @class */ (function (_super) {\n    __extends(DocumentDownloader, _super);\n    function DocumentDownloader(id, $target) {\n        var _this = _super.call(this) || this;\n        _this.id = id;\n        _this.$target = $target;\n        return _this;\n    }\n    DocumentDownloader.prototype.request = function () {\n        var _this = this;\n        this.startLoading();\n        var token = window.localStorage.getItem('doc-data-capture');\n        api.post('document_download_url', { id: this.id, token: token })\n            .then(function (result) {\n            _this.stopLoading();\n            if (!result.success) {\n                throw new Error(result.data);\n            }\n            if (result.data.form) {\n                return _this.presentForm(result.data.form);\n            }\n            if (result.data.url) {\n                return _this.download();\n            }\n        })\n            .catch(function (err) { return console.error('An error occured: ', err); });\n    };\n    DocumentDownloader.prototype.presentForm = function (markup) {\n        this.$form = $(markup);\n        this.$form.find(\".\".concat(popupCloseClass)).on('click', this.closeForm.bind(this));\n        $(document).one('gform_confirmation_loaded', this.onConfirmationLoaded.bind(this));\n        $('body').append(this.$form);\n    };\n    DocumentDownloader.prototype.closeForm = function () {\n        if (!this.$form) {\n            return;\n        }\n        this.$form.remove();\n    };\n    DocumentDownloader.prototype.onConfirmationLoaded = function (e, formId) {\n        var dataCaptureResultToken = window.dataCaptureResultToken;\n        if (!dataCaptureResultToken) {\n            return;\n        }\n        window.localStorage.setItem('doc-data-capture', dataCaptureResultToken);\n        this.request();\n        this.closeForm();\n    };\n    DocumentDownloader.prototype.download = function () {\n        var url = window.ajaxUrl + '?action=document_download&id=' + this.id;\n        var $iframe = $('<iframe />', {\n            src: url\n        }).css({\n            visibility: 'hidden',\n            display: 'none'\n        });\n        $iframe.appendTo(this.$target);\n    };\n    return DocumentDownloader;\n}(LoaderQueue));\nexport default DocumentDownloader;\n","var LoaderQueue = /** @class */ (function () {\n    function LoaderQueue() {\n        this.loadingKeys = [];\n    }\n    LoaderQueue.prototype.startLoading = function (key) {\n        if (key === void 0) { key = 'default'; }\n        if (this.loadingKeys.includes(key)) {\n            return;\n        }\n        this.loadingKeys.push(key);\n        this.drawLoader();\n    };\n    LoaderQueue.prototype.stopLoading = function (key) {\n        if (key === void 0) { key = 'default'; }\n        var index = this.loadingKeys.indexOf(key);\n        if (index < 0) {\n            return;\n        }\n        this.loadingKeys.splice(index, 1);\n        this.drawLoader();\n    };\n    LoaderQueue.prototype.drawLoader = function () {\n        if (!this.$loader) {\n            return;\n        }\n        if (this.loadingKeys.length) {\n            this.$loader.show();\n        }\n        else {\n            this.$loader.hide();\n        }\n    };\n    return LoaderQueue;\n}());\nexport default LoaderQueue;\n","var __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nimport api from './api';\nimport DocumentDownloader from './DocumentDownloader';\nimport LoaderQueue from './LoaderQueue';\nvar $ = jQuery;\nvar _a = window.documentDirectoryProps, rootClassName = _a.rootClassName, searchFormClassName = _a.searchFormClassName, filterClassName = _a.filterClassName, downloadClassName = _a.downloadClassName, loaderClassName = _a.loaderClassName, pagerClassName = _a.pagerClassName, clearSearchClassName = _a.clearSearchClassName;\nvar DocumentDirectory = /** @class */ (function (_super) {\n    __extends(DocumentDirectory, _super);\n    function DocumentDirectory($elem) {\n        var _this = _super.call(this) || this;\n        _this.$elem = $elem;\n        _this.currentUrl = new URL(window.location.href);\n        _this.attach();\n        _this.queryDom();\n        return _this;\n    }\n    DocumentDirectory.prototype.queryDom = function () {\n        this.$elem.find(\".\".concat(filterClassName)).select2({\n            /* Sort data using lowercase comparison */\n            sorter: function (data) { return data.sort(function (a, b) { return a.text.toLowerCase() > b.text.toLowerCase() ? 0 : -1; }); }\n        });\n        this.$loader = this.$elem.find(\".\".concat(loaderClassName));\n        this.$clearSearch = this.$elem.find(\".\".concat(clearSearchClassName));\n    };\n    DocumentDirectory.prototype.setUrlParam = function (name, value) {\n        if (value) {\n            this.currentUrl.searchParams.set(name, value);\n        }\n        else {\n            this.currentUrl.searchParams.delete(name);\n        }\n        this.currentUrl.href = this.currentUrl.href.replace(/\\/page\\/\\d+/, '');\n        history.pushState(null, '', this.currentUrl);\n    };\n    DocumentDirectory.prototype.setUrl = function (url) {\n        this.currentUrl = new URL(url);\n        history.pushState(null, '', this.currentUrl);\n    };\n    DocumentDirectory.prototype.onFilterChange = function (_a) {\n        var target = _a.target;\n        var $target = $(target);\n        var multiple = $target.prop('multiple');\n        var name = $target.prop('name');\n        $target.select2('close');\n        if (!name) {\n            return;\n        }\n        var value = multiple\n            ? $target\n                .find('option:selected')\n                .map(function (_, _a) {\n                var value = _a.value;\n                return value;\n            })\n                .get()\n                .join(',')\n            : target.value;\n        if (!name) {\n            return;\n        }\n        if (name !== 'language') {\n            this.setUrlParam(name, value);\n            this.reload();\n        }\n        else {\n            this.startLoading();\n            window.location.href = value;\n        }\n    };\n    DocumentDirectory.prototype.onSearchFormSubmit = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        var $form = $(target);\n        var $input = $form.find('input:text');\n        var value = $input.prop('value');\n        if (!value) {\n            return;\n        }\n        this.setUrlParam('s', value);\n        this.reload();\n    };\n    DocumentDirectory.prototype.onSearchFormPress = function (e) {\n        if (!this.$clearSearch) {\n            return;\n        }\n        var target = e.target;\n        var $input = $(target);\n        this.$clearSearch.toggle(!!$input.val());\n    };\n    DocumentDirectory.prototype.onClearSearchClick = function (e) {\n        e.preventDefault();\n        this.$elem.find(\".\".concat(searchFormClassName, \" input:text\")).val('');\n        this.setUrlParam('s', '');\n        this.reload();\n    };\n    DocumentDirectory.prototype.onPagerClick = function (e) {\n        e.preventDefault();\n        var target = e.target;\n        var $link = $(target);\n        var url = $link.prop('href');\n        if (!url) {\n            return;\n        }\n        this.setUrl(url);\n        this.reload();\n    };\n    DocumentDirectory.prototype.reload = function () {\n        var _this = this;\n        this.startLoading();\n        api.get(this.currentUrl.toString())\n            .then(function (result) {\n            _this.stopLoading();\n            var $page = $(result);\n            var $root = $page.find(\".\".concat(rootClassName));\n            if (!$root.length) {\n                return;\n            }\n            _this.$elem.html($root.html());\n            _this.queryDom();\n        })\n            .catch(function (err) { return console.error('An error occured: ', err); });\n    };\n    DocumentDirectory.prototype.onDownloadClick = function (e) {\n        e.preventDefault();\n        var $target = $(e.target);\n        var docId = $target.closest('[data-document-id]').data('document-id');\n        if (!docId) {\n            return;\n        }\n        var downloader = new DocumentDownloader(Number(docId), $target);\n        downloader.$loader = this.$loader;\n        downloader.request();\n    };\n    DocumentDirectory.prototype.onSelect2Unselect = function (e) {\n        if (!e.params.originalEvent) {\n            return;\n        }\n        e.params.originalEvent.stopPropagation();\n    };\n    DocumentDirectory.prototype.onWinPopState = function () {\n        this.currentUrl = new URL(window.location.href);\n        this.reload();\n    };\n    DocumentDirectory.prototype.attach = function () {\n        this.$elem.on('change', \".\".concat(filterClassName), this.onFilterChange.bind(this));\n        this.$elem.on('submit', \".\".concat(searchFormClassName), this.onSearchFormSubmit.bind(this));\n        this.$elem.on('input', \".\".concat(searchFormClassName, \" input:text\"), this.onSearchFormPress.bind(this));\n        this.$elem.on('click', \".\".concat(clearSearchClassName), this.onClearSearchClick.bind(this));\n        this.$elem.on('click', \".\".concat(pagerClassName), this.onPagerClick.bind(this));\n        this.$elem.on('click', \".\".concat(downloadClassName), this.onDownloadClick.bind(this));\n        $(window).on('popstate', this.onWinPopState.bind(this));\n        this.$elem.on('select2:unselect', this.onSelect2Unselect.bind(this));\n    };\n    return DocumentDirectory;\n}(LoaderQueue));\nexport default DocumentDirectory;\n","import '../sass/select2/core.scss';\nimport DocumentDirectory from './DocumentDirectory';\njQuery(function ($) {\n    var $documentDirectory = $(\".\".concat(window.documentDirectoryProps.rootClassName));\n    $documentDirectory.each(function (_, el) {\n        var $el = $(el);\n        $el.data('document-directory', new DocumentDirectory($el));\n    });\n});\n","require('svg4everybody')({});\n"],"names":["this","root","svg4everybody","embed","parent","svg","target","fragment","document","createDocumentFragment","viewBox","hasAttribute","getAttribute","setAttribute","clone","cloneNode","childNodes","length","appendChild","firstChild","loadreadystatechange","xhr","onreadystatechange","readyState","cachedDocument","_cachedDocument","implementation","createHTMLDocument","body","innerHTML","responseText","_cachedTarget","_embeds","splice","map","item","id","getElementById","getSVGAncestor","node","nodeName","toLowerCase","parentNode","rawopts","polyfill","opts","Object","inIframe","window","top","self","test","navigator","userAgent","match","requests","requestAnimationFrame","setTimeout","uses","getElementsByTagName","numberOfSvgUseElementsToBypass","oninterval","index","use","src","attributeName","validate","removeChild","srcSplit","split","url","shift","join","XMLHttpRequest","open","send","push","factory","__webpack_module_cache__","extendStatics","$","jQuery","action","data","postUrl","URL","ajaxUrl","searchParams","append","post","toString","JSON","stringify","contentType","dataType","get","LoaderQueue","loadingKeys","prototype","startLoading","key","includes","drawLoader","stopLoading","indexOf","$loader","show","hide","__extends","d","b","setPrototypeOf","__proto__","Array","p","hasOwnProperty","call","TypeError","String","__","constructor","create","popupCloseClass","_super","DocumentDownloader","$target","_this","request","token","localStorage","getItem","api","then","result","success","Error","form","presentForm","download","catch","err","console","error","markup","$form","find","concat","on","closeForm","bind","one","onConfirmationLoaded","remove","e","formId","dataCaptureResultToken","setItem","css","visibility","display","appendTo","_a","documentDirectoryProps","rootClassName","searchFormClassName","filterClassName","downloadClassName","loaderClassName","pagerClassName","clearSearchClassName","DocumentDirectory","$elem","currentUrl","location","href","attach","queryDom","select2","sorter","sort","a","text","$clearSearch","setUrlParam","name","value","set","delete","replace","history","pushState","setUrl","onFilterChange","multiple","prop","_","reload","onSearchFormSubmit","preventDefault","onSearchFormPress","$input","toggle","val","onClearSearchClick","onPagerClick","$root","html","onDownloadClick","docId","closest","downloader","Number","onSelect2Unselect","params","originalEvent","stopPropagation","onWinPopState","each","el","$el","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__"],"sourceRoot":""}